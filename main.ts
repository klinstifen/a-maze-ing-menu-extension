enum ActionKind {
    Walking,
    Idle,
    Jumping,
    attack,
    attackLeft,
    walkingDown,
    walkingLeft,
    walkingUp,
    walkingRight,
    yetiIdle
}
namespace SpriteKind {
    export const crumb = SpriteKind.create()
    export const ux = SpriteKind.create()
    export const NPC = SpriteKind.create()
    export const health = SpriteKind.create()
    export const menu = SpriteKind.create()
    export const boss = SpriteKind.create()
}
controller.A.onEvent(ControllerButtonEvent.Pressed, function () {
    if (startGame == 0) {
        if (menuSelect == 1) {
            if (cursor.overlapsWith(lvl1)) {
                startMaze()
            } else if (cursor.overlapsWith(lvl2)) {
                let lvl2Enabled = 0
                if (lvl2Enabled == 1) {
                    startMaze()
                } else {
                    game.showLongText("This level has not been unlocked.", DialogLayout.Top)
                }
            } else if (cursor.overlapsWith(lvl3)) {
                let level3Enabled = 0
                if (level3Enabled == 1) {
                    startMaze()
                } else {
                    game.showLongText("This level has not been unlocked.", DialogLayout.Top)
                }
            }
        } else {
            menuSelect = 1
        }
    } else if (startGame == 1) {
        let roBito: Sprite = null
        roBito.setImage(img`
            . . . . . c c 4 c c c c c . . . 
            . . . . c b b d d d d d d c . . 
            . . . . c b d d d d d d d c . . 
            . 1 . . c 2 f d f 2 f d d c . . 
            c 1 b . c b d d d d d d d c . . 
            c 9 b . c d d d d d d d c c . . 
            c 1 b . c d d f f f d 8 c c . . 
            . c 1 b . c c c c c 8 6 8 c . . 
            . c 9 b . . c b d d 8 4 6 8 8 8 
            . . 1 b . c b d d d 8 6 4 6 6 8 
            . c 2 c 2 b d d d d 8 6 6 6 8 . 
            . . d d . c b d d d d 8 6 8 . . 
            . . . c . . c b d d d d 8 . . . 
            . . . . . . c c c c c c . . . . 
            . . . . . . c . . . c c . . . . 
            . . . . . . c c . . . c c . . . 
            `)
    }
})
function titleScreen () {
    scene.setBackgroundImage(img`
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ..3333333333333333333333..........9999..........99999....999999999999.....999999999999999999...999999999999999.......3333..3333......233333.......33333333333333
        ..3333333333333333333333..........9999..........99999....999999999999.....999999999999999999...999999999999999.......3333..3333333...233333.......33333333333333
        ..3333333333333333333333..........9999999.......99999..99999999999999999..999999999999999999...999999999999999.......3333..3333333...233333.......33333333333333
        3333333333333333333333333333......9999999.....9999999..99998888888889999..999999999999999998...999999999999999.......3333..3333333...233333.....3333332222222222
        3333333333333333333333333333......9999999.....9999999..99998888888889999..888888888888899998...999999999999999.......3333..3333333...233333.....3333332222222222
        3333333333333333333333333333......9999999999999999999..99998888888889999..88888888888899998....999988888888888.......3333..33333333..233333.....3332222222222222
        3333222222222222222222223333......9999999999999999999..99998888888889999..88888888888899998....999988888888888.......3333..33333333..233333..3333332222.........
        3333222222222222222222223333......9999888999988899999..99998888888889999..8888888888899998.....999988888888888.......3333..33332333..233333..3333332222.........
        3333222222222222222222223333......9999888999988899999..99998888888889999..8888888888899998.....999988888888888.......3333..33332333..233333..33322222...........
        3333222222222222222222223333......9999888888888899999..99998888888889999..888888888899998......9999..................3333..333323333.233333..33322222...........
        3333222222222222222222223333......9999888888888899999..99998888888889999..888888888899998......9999..................3333..333323333.233333..33322222...........
        3333....................3333......9999888888888899999..9999.........9999...........99998.......9999..................3333..333322333.233333..333................
        3333....................3333......9999..888888..99999..99999999999999999...........99998.......9999..................3333..333322333.233333..333................
        3333333333333333333333333333......9999..888888..99999..99999999999999999..........99998........999999999999999.......3333..3333223333233333..333................
        3333333333333333333333333333......9999..........99999..99999999999999999..........99998........999999999999999.......3333..3333223333233333..333................
        3333333333333333333333333333......9999..........99999..99998888888889999.........99998.........999999999999999.......3333..3333.22333233333..333.....33333333333
        3333333333333333333333333333......9999..........99999..99998888888889999.........99998.........999999999999999.......3333..3333.22333233333..333.....33333333333
        3333222222222222222222223333......9999..........99999..99998888888889999........99998..........999999999999999.......3333..3333.22333233333..333.....33333333333
        3333222222222222222222223333......9999..........99999..99998888888889999........99998..........999988888888888.......3333..3333.22333333333..333.....33333333333
        3333222222222222222222223333......9999..........99999..99998888888889999.......99998...........999988888888888.......3333..3333.22333333333..333.....33333333333
        3333222222222222222222223333......9999..........99999..9999.........9999.......99998...........999988888888888.......3333..3333..2233333333..333.....22222233333
        3333222222222222222222223333......9999..........99999..9999.........9999......99998............999988888888888.......3333..3333..2233333333..333.....22222233333
        3333....................3333......9999..........99999..9999.........9999......99998............9999..................3333..3333..2233333333..333.....22222233333
        3333....................3333......9999..........99999..9999.........9999.....99998.............9999..................3333..3333..2233333333..33333...22222233333
        3333....................3333......9999..........99999..9999.........9999.....99998.............9999..................3333..3333...223333333..33333.........33333
        3333....................3333......9999..........99999..9999.........9999....99998..............9999..................3333..3333...223333333..33333333......33333
        3333....................3333......9999..........99999..9999.........9999....99998..............9999..................3333..3333...223333333..33333333......33333
        3333....................3333......9999..........99999..9999.........9999...99998...............9999999999999999......3333..3333...223333333..3333333333333333333
        3333....................3333......9999..........99999..9999.........9999...999999999999999999..9999999999999999......3333..3333....22333333..2223333333333333333
        3333....................3333......9999..........99999..9999.........9999..9999999999999999999..9999999999999999......3333..3333....22333333..2223333333333333333
        3333....................3333......9999..........99999..9999.........9999..9999999999999999999..9999999999999999......3333..3333....22333333..2222223333333333333
        3333....................3333......9999..........99999..9999.........9999..9999999999999999999..9999999999999999......3333..3333....22333333..2222223333333333333
        2222....................2222......8888..........88888..8888.........8888..8888888888888888888..8888888888888888......2222..2222......222222..2222222222222222222
        2222....................2222......8888..........88888..8888.........8888..8888888888888888888..8888888888888888......2222..2222......222222.....2222222222222222
        2222....................2222......8888..........88888..8888.........8888..8888888888888888888..8888888888888888......2222..2222......222222.....2222222222222222
        2222....................2222......8888..........88888..8888.........8888..8888888888888888888..8888888888888888......2222..2222......222222.....2222222222222222
        2222....................2222......8888..........88888..8888.........8888..8888888888888888888..8888888888888888......2222..2222......222222.....2222222222222222
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        ................................................................................................................................................................
        5555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
        5555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
        5555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
        ................................................................................................555.............................................................
        ................................................................................................555.............................................................
        ................................................................................................555.............................................................
        ...5555555555555555555555555555555555555555...55555555555555555555555555555555555555555555555...555...555555555555555...5555555555555555555555555555555555555...
        ...5555555555555555555555555555555555555555...55555555555555555555555555555555555555555555555...555...555555555555555...5555555555555555555555555555555555555...
        ...5555555555555555555555555555555555555555...55555555555555555555555555555555555555555555555...555...555555555555555...5555555555555555555555555555555555555...
        ...555..................................555...555.........................................555...555...555...555...555...555...............................555...
        ...555..................................555...555.........................................555...555555555...555...555555555...............................555...
        ...555..................................555...555.........................................555...555555555...555...555555555...5555555555555555555555555555555...
        ...5555555555555555555555555555555555...555...555.........................................555...555555555...555...555555555...5555555555555555555555555555555...
        ...5555555555555555555555555555555555...555...555.........................................555...............555...............5555555555555555555555555555555...
        ...5555555555555555555555555555555555...555...555.........................................555...............555.................................................
        ..................................555...555...555.........................................555...............555.................................................
        ..................................555...555...555.........................................5555555555555555555555555555555555555555555555555555555555555555555555
        ..................................555...555...555.........................................5555555555555555555555555555555555555555555555555555555555555555555555
        ...5555555555555555555555555555...555...555...555.........................................5555555555555555555555555555555555555555555555555555555555555555555555
        ...5555555555555555555555555555...555...555...555...............................................................................................................
        ...5555555555555555555555555555...555...555...555...............................................................................................................
        ...555......................555...555...555...555...............................................................................................................
        ...555......................555...555...555...555.........................................5555555555555555555555555555555555555555555555555555555555555555555...
        ...555......................555...555...555...555.........................................5555555555555555555555555555555555555555555555555555555555555555555...
        ...555...5555555555555555...555...555...555...555.........................................5555555555555555555555555555555555555555555555555555555555555555555...
        ...555...5555555555555555...555...555...555...555.........................................555.............................................................555...
        ...555...5555555555555555...555...555...555...555.........................................555.............................................................555...
        ...555...555..........555...555...555...555...555.........................................555.............................................................555...
        ...555...555..........555...555...555...555...555.........................................555...5555555555555555555555555555555555555555555555555555555555555...
        ...555...555..........555...555...555...555...555.........................................555...5555555555555555555555555555555555555555555555555555555555555...
        ...555...555...555....555...555...555...555...555.........................................555...5555555555555555555555555555555555555555555555555555555555555...
        ...555...555...555....555...555...555...555...555.........................................555...555.............................................................
        ...555...555...555....555...555...555...555...555.........................................555...555.............................................................
        ...555...555...555....555...555...555...555...555.........................................555...555.............................................................
        ...555...555...555....555...555...555...555...555.........................................555...555...5555555555555555555555555555555555555555555555555555555555
        ...555...555...555....555...555...555...555...555.........................................555...555...5555555555555555555555555555555555555555555555555555555555
        ...555...555...555....555...555...555...555...555.........................................555...555...5555555555555555555555555555555555555555555555555555555555
        ...555...555...555....555...555...555...555...555.........................................555...555...555.......................................................
        ...555...555...555....555...555...555...555...555.........................................555...555...555.......................................................
        ...555...555...5555555555...555...555...555...555.........................................555...555...555.......................................................
        ...555...555...5555555555...555...555...555...555.........................................555...555...555...5555555555555555555555555555555555555555555555555...
        ...555...555...5555555555...555...555...555...555.........................................555...555...555...5555555555555555555555555555555555555555555555555...
        ...555...555................555...555...555...555.........................................555...555...555...5555555555555555555555555555555555555555555555555...
        ...555...555................555...555...555...555.........................................555...555...555...555...........................................555...
        ...555...555................555...555...555...555.........................................555...555...555...555...........................................555...
        ...555...5555555555555555555555...555...555...55555555555555555555555555555555555555555555555...555...555...555...........................................555...
        ...555...5555555555555555555555...555...555...55555555555555555555555555555555555555555555555...555...555...555...555...5555555555555555555555555555555...555...
        ...555...5555555555555555555555...555...555...55555555555555555555555555555555555555555555555...555...555...555...555...5555555555555555555555555555555...555...
        ...555............................555...555.....................................................555...555...555...555...5555555555555555555555555555555...555...
        ...555............................555...555.....................................................555...555...555...555.....................................555...
        ...555............................555...555.....................................................555...555...555...555.....................................555...
        ...5555555555555555555555555555555555...55555555555555555555555555555555555555555555555555555555555...555...555...555.....................................555...
        ...5555555555555555555555555555555555...55555555555555555555555555555555555555555555555555555555555...555...555...555......5555555555555555555555555555...555...
        ...5555555555555555555555555555555555...55555555555555555555555555555555555555555555555555555555555...555...555...555......5555555555555555555555555555...555...
        ......................................................................................................555...555...555......5555555555555555555555555555...555...
        ......................................................................................................555...555...555...............................555...555...
        ......................................................................................................555...555...555...............................555...555...
        555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555...555...5555555555555555555555555555555555555555555...
        555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555...555...5555555555555555555555555555555555555555555...
        555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555...555...5555555555555555555555555555555555555555555...
        ............................................................................................................555.................................................
        ............................................................................................................555.................................................
        ............................................................................................................555.................................................
        5555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
        5555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
        5555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555555
        ................................................................................................................................................................
        `)
    minotaur = sprites.create(img`
        ..........bd.............d......
        ..........bddddddddeeeeedd......
        ...........bbbbbbbbeeeeebb......
        ................eeeedd22........
        ...............eeedddddd5.......
        .............4444eeeeeddd.......
        ............444ddddeeeddd.......
        ...........4444ddddddee.........
        ..........44444ddddddddd........
        ..........44444ddddddddd........
        .........44.444dddddddd4........
        .........44...4dddddddd4........
        ........444..44ddddddd444.......
        ........444..4444dddd4444.......
        .......444...44dddddd..44.......
        ......444...444dddddd..44.......
        ......44...eeeddddddd...4.......
        ......44..eeeeedddddd..44.......
        ......44..eeeeedddddd..4........
        ......445..eeeedddddce.4........
        ......555..eee..ddddcce4........
        ...........eee....cccc44e.......
        ...........eee....ccccc.ee......
        ..........eee......cccc..ee...d.
        ..........eee.......ccc...ee..d.
        ..........eee.......ccc...deedd.
        .....fffffeeefffff..cc...1ddeed.
        .ffffffffffeefffffcccfff.1dddee.
        ..fffffffffeeffffffccfff.11ddde.
        ....fffffff5eefffffcccfff.111d..
        .....ffffff555fffff5ccffffff1d..
        ......fffff555fffff555ffffff111.
        `, SpriteKind.ux)
    pressA = sprites.create(img`
        ................................
        .999999..999999...9999.9999.9999
        .9999999.9999999..9999.9999.9999
        .9988899.9988899..9988.9988.9988
        .9988899.9988899..9988.9988.9988
        .99...99.99...99..99...99...99..
        .9999998.9999999..9999.9999.9999
        .9999998.9999998..9999.9999.9999
        .998888..998998...9988.8899.8899
        .998888..998899...9988.8899.8899
        .99......99.8899..99.....99...99
        .99......99..8899.9999.9999.9999
        .99......99...899.9999.9999.9999
        .88......88....88.8888.8888.8888
        .88......88....88.8888.8888.8888
        ................................
        ..............99999999..........
        ..............99999999..........
        .............9988888899.........
        .............9988888899.........
        .............99......99.........
        .............99......99.........
        .............9999999999.........
        .............9999999999.........
        .............9988888899.........
        .............9988888899.........
        .............99......99.........
        .............99......99.........
        .............99......99.........
        .............88......88.........
        .............88......88.........
        ................................
        `, SpriteKind.ux)
    minotaur.setPosition(70, 80)
    pressA.setPosition(70, 80)
    while (menuSelect == 0) {
        minotaur.setFlag(SpriteFlag.Invisible, true)
        pressA.setFlag(SpriteFlag.Invisible, false)
        pause(500)
        minotaur.setFlag(SpriteFlag.Invisible, false)
        pressA.setFlag(SpriteFlag.Invisible, true)
        pause(500)
    }
    minotaur.setFlag(SpriteFlag.Invisible, true)
    pressA.setFlag(SpriteFlag.Invisible, true)
    lvlMenu()
}
controller.down.onEvent(ControllerButtonEvent.Pressed, function () {
    if (menuSelect == 1) {
        if (controller.down.isPressed()) {
            if (cursor.y <= 80) {
                cursor.y += 10
            } else {
                cursor.y = 70
            }
        }
    }
})
function lvlMenu () {
    lvl1 = sprites.create(img`
        9 9 . 9 . . . . 9 . 9 9 . . . . . . . 9 9 9 9 . 
        9 9 . 9 . . . . 9 . 9 9 . . . . . . . 9 9 9 9 . 
        9 9 . 9 . . . . 9 . 9 9 . . . . . . . . . 9 9 . 
        9 9 . . 9 . . 9 . . 9 9 . . . . . . . . . 9 9 . 
        9 9 . . 9 . . 9 . . 9 9 . . . . . . . . . 9 9 . 
        9 9 . . . 9 9 . . . 9 9 . . . . . . . . . 9 9 . 
        9 9 9 9 . 9 9 . . . 9 9 9 9 . . . . . . . 9 9 . 
        9 9 9 9 . 9 9 . . . 9 9 9 9 . . . . . . . 9 9 . 
        `, SpriteKind.menu)
    lvl2 = sprites.create(img`
        9 9 . 9 . . . . 9 . 9 9 . . . . . . 9 9 9 9 . . 
        9 9 . 9 . . . . 9 . 9 9 . . . . . 9 9 9 9 9 9 . 
        9 9 . 9 . . . . 9 . 9 9 . . . . . 9 9 . . 9 9 . 
        9 9 . . 9 . . 9 . . 9 9 . . . . . . . . 9 9 . . 
        9 9 . . 9 . . 9 . . 9 9 . . . . . . 9 9 9 9 . . 
        9 9 . . . 9 9 . . . 9 9 . . . . . . 9 9 . . . . 
        9 9 9 9 . 9 9 . . . 9 9 9 9 . . . 9 9 9 9 9 9 . 
        9 9 9 9 . 9 9 . . . 9 9 9 9 . . . 9 9 9 9 9 9 . 
        `, SpriteKind.menu)
    lvl3 = sprites.create(img`
        9 9 . 9 . . . . 9 . 9 9 . . . . . . 9 9 9 9 9 . 
        9 9 . 9 . . . . 9 . 9 9 . . . . . . 9 9 9 9 9 . 
        9 9 . 9 . . . . 9 . 9 9 . . . . . . . . . . 9 . 
        9 9 . . 9 . . 9 . . 9 9 . . . . . . . 9 9 9 9 . 
        9 9 . . 9 . . 9 . . 9 9 . . . . . . . 9 9 9 9 . 
        9 9 . . . 9 9 . . . 9 9 . . . . . . . . . . 9 . 
        9 9 9 9 . 9 9 . . . 9 9 9 9 . . . . 9 9 9 9 9 . 
        9 9 9 9 . 9 9 . . . 9 9 9 9 . . . . 9 9 9 9 9 . 
        `, SpriteKind.menu)
    lvl1.setPosition(75, 70)
    lvl2.setPosition(75, 80)
    lvl3.setPosition(75, 90)
    cursor = sprites.create(img`
        . . . . . . f f f f f f 
        . . . 3 3 3 f f f f f f 
        . . 3 3 3 3 3 f f f f f 
        . . 3 3 3 3 3 f f f f f 
        . . 3 3 3 3 3 f f f f f 
        . . 2 3 3 3 2 f f f f f 
        . . . 2 2 2 f f f f f f 
        . . . . . . f f f f f f 
        `, SpriteKind.Player)
    cursor.setPosition(58, 70)
    cursor.z = -10
    menuList = sprites.allOfKind(SpriteKind.menu)
}
function startMaze () {
    menuSelect = 0
    startGame = 1
    cursor.setFlag(SpriteFlag.Invisible, true)
    for (let value4 of menuList) {
        value4.setFlag(SpriteFlag.Invisible, true)
    }
}
let menuList: Sprite[] = []
let pressA: Sprite = null
let minotaur: Sprite = null
let lvl3: Sprite = null
let lvl2: Sprite = null
let lvl1: Sprite = null
let cursor: Sprite = null
let menuSelect = 0
let startGame = 0
titleScreen()
